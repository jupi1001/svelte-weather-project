import{s as ie,n as le,r as oe,a as se}from"../chunks/DyjBc6Js.js";import{S as de,i as ce,d as h,k as re,a as Z,b as t,l as R,m as f,c as d,e as I,n as X,g as P,h as c,j as S,s as A,f as k,t as C}from"../chunks/BE1VcGML.js";import{g as ue}from"../chunks/DETW4OUu.js";function he(s){let e,a,l=s[1].name+"",n,T,y=s[1].sys.country+"",m,M,v,i,_,p,V,H,N=Math.round(s[1].main.temp)+"",W,L,O,E,r=s[1].weather[0].description+"",o,b,g,D,j,B=s[1].main.humidity+"",F,$,x,q,ee,z=s[1].wind.speed+"",G,te;return{c(){e=c("div"),a=c("h2"),n=C(l),T=C(", "),m=C(y),M=S(),v=c("div"),i=c("img"),V=S(),H=c("div"),W=C(N),L=C("°C"),O=S(),E=c("div"),o=C(r),b=S(),g=c("div"),D=c("div"),j=C("Humidity: "),F=C(B),$=C("%"),x=S(),q=c("div"),ee=C("Wind: "),G=C(z),te=C(" m/s"),this.h()},l(w){e=d(w,"DIV",{class:!0});var u=I(e);a=d(u,"H2",{});var K=I(a);n=k(K,l),T=k(K,", "),m=k(K,y),K.forEach(h),M=P(u),v=d(u,"DIV",{class:!0});var U=I(v);i=d(U,"IMG",{src:!0,alt:!0}),V=P(U),H=d(U,"DIV",{class:!0});var ae=I(H);W=k(ae,N),L=k(ae,"°C"),ae.forEach(h),O=P(U),E=d(U,"DIV",{class:!0});var ne=I(E);o=k(ne,r),ne.forEach(h),U.forEach(h),b=P(u),g=d(u,"DIV",{class:!0});var Y=I(g);D=d(Y,"DIV",{});var J=I(D);j=k(J,"Humidity: "),F=k(J,B),$=k(J,"%"),J.forEach(h),x=P(Y),q=d(Y,"DIV",{});var Q=I(q);ee=k(Q,"Wind: "),G=k(Q,z),te=k(Q," m/s"),Q.forEach(h),Y.forEach(h),u.forEach(h),this.h()},h(){se(i.src,_=`http://openweathermap.org/img/wn/${s[1].weather[0].icon}@2x.png`)||f(i,"src",_),f(i,"alt",p=s[1].weather[0].description),f(H,"class","temperature"),f(E,"class","description"),f(v,"class","weather-info"),f(g,"class","details"),f(e,"class","weather-card")},m(w,u){Z(w,e,u),t(e,a),t(a,n),t(a,T),t(a,m),t(e,M),t(e,v),t(v,i),t(v,V),t(v,H),t(H,W),t(H,L),t(v,O),t(v,E),t(E,o),t(e,b),t(e,g),t(g,D),t(D,j),t(D,F),t(D,$),t(g,x),t(g,q),t(q,ee),t(q,G),t(q,te)},p(w,u){u&2&&l!==(l=w[1].name+"")&&A(n,l),u&2&&y!==(y=w[1].sys.country+"")&&A(m,y),u&2&&!se(i.src,_=`http://openweathermap.org/img/wn/${w[1].weather[0].icon}@2x.png`)&&f(i,"src",_),u&2&&p!==(p=w[1].weather[0].description)&&f(i,"alt",p),u&2&&N!==(N=Math.round(w[1].main.temp)+"")&&A(W,N),u&2&&r!==(r=w[1].weather[0].description+"")&&A(o,r),u&2&&B!==(B=w[1].main.humidity+"")&&A(F,B),u&2&&z!==(z=w[1].wind.speed+"")&&A(G,z)},d(w){w&&h(e)}}}function fe(s){let e,a;return{c(){e=c("div"),a=C(s[3]),this.h()},l(l){e=d(l,"DIV",{class:!0});var n=I(e);a=k(n,s[3]),n.forEach(h),this.h()},h(){f(e,"class","error")},m(l,n){Z(l,e,n),t(e,a)},p(l,n){n&8&&A(a,l[3])},d(l){l&&h(e)}}}function ve(s){let e,a="Loading...";return{c(){e=c("div"),e.textContent=a,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1f5y80z"&&(e.textContent=a),this.h()},h(){f(e,"class","loading")},m(l,n){Z(l,e,n)},p:le,d(l){l&&h(e)}}}function _e(s){let e,a,l,n,T="Weather Forecast",y,m,M="Logout",v,i,_,p,V,H="Search",N,W,L;function O(o,b){if(o[2])return ve;if(o[3])return fe;if(o[1])return he}let E=O(s),r=E&&E(s);return{c(){e=c("main"),a=c("div"),l=c("div"),n=c("h1"),n.textContent=T,y=S(),m=c("button"),m.textContent=M,v=S(),i=c("div"),_=c("input"),p=S(),V=c("button"),V.textContent=H,N=S(),r&&r.c(),this.h()},l(o){e=d(o,"MAIN",{});var b=I(e);a=d(b,"DIV",{class:!0});var g=I(a);l=d(g,"DIV",{class:!0});var D=I(l);n=d(D,"H1",{"data-svelte-h":!0}),X(n)!=="svelte-flu1jl"&&(n.textContent=T),y=P(D),m=d(D,"BUTTON",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-nk8agc"&&(m.textContent=M),D.forEach(h),v=P(g),i=d(g,"DIV",{class:!0});var j=I(i);_=d(j,"INPUT",{type:!0,placeholder:!0}),p=P(j),V=d(j,"BUTTON",{"data-svelte-h":!0}),X(V)!=="svelte-ktu0yk"&&(V.textContent=H),j.forEach(h),N=P(g),r&&r.l(g),g.forEach(h),b.forEach(h),this.h()},h(){f(m,"class","logout-btn"),f(l,"class","header"),f(_,"type","text"),f(_,"placeholder","Enter city name"),f(i,"class","search-box"),f(a,"class","container")},m(o,b){Z(o,e,b),t(e,a),t(a,l),t(l,n),t(l,y),t(l,m),t(a,v),t(a,i),t(i,_),re(_,s[0]),t(i,p),t(i,V),t(a,N),r&&r.m(a,null),W||(L=[R(m,"click",s[5]),R(_,"input",s[6]),R(_,"keydown",s[7]),R(V,"click",s[4])],W=!0)},p(o,[b]){b&1&&_.value!==o[0]&&re(_,o[0]),E===(E=O(o))&&r?r.p(o,b):(r&&r.d(1),r=E&&E(o),r&&(r.c(),r.m(a,null)))},i:le,o:le,d(o){o&&h(e),r&&r.d(),W=!1,oe(L)}}}function pe(s,e,a){let l="",n=null,T=!1,y=null;const m="04f81cf970bafcb41af138974d4923fd";async function M(){if(l){a(2,T=!0),a(3,y=null);try{const p=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${l}&appid=${m}&units=metric`);if(!p.ok)throw new Error("City not found");a(1,n=await p.json())}catch(p){a(3,y=p instanceof Error?p.message:"An error occurred")}finally{a(2,T=!1)}}}function v(){fetch("/api/logout",{method:"POST"}).then(()=>ue("/"))}function i(){l=this.value,a(0,l)}return[l,n,T,y,M,v,i,p=>p.key==="Enter"&&M()]}class ye extends de{constructor(e){super(),ce(this,e,pe,_e,ie,{})}}export{ye as component};
