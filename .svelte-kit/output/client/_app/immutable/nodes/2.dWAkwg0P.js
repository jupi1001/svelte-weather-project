import{s as X,n as G,r as Y}from"../chunks/DyjBc6Js.js";import{S as Z,i as $,d as m,k as U,a as Q,b as e,l as W,p as ee,m as l,c as o,e as L,n as P,g as I,h as i,j as x,s as te,f as ae,t as se}from"../chunks/BE1VcGML.js";import{g as ne}from"../chunks/DETW4OUu.js";function K(p){let s,a;return{c(){s=i("div"),a=se(p[2]),this.h()},l(t){s=o(t,"DIV",{class:!0});var r=L(s);a=ae(r,p[2]),r.forEach(m),this.h()},h(){l(s,"class","error")},m(t,r){Q(t,s,r),e(s,a)},p(t,r){r&4&&te(a,t[2])},d(t){t&&m(s)}}}function re(p){let s,a,t,r="Welcome to Weather App",y,u,v,S="Login",D,N,h,_,g,z="Username",q,f,B,C,E,F="Password",j,c,H,w,J="Login",M,R,n=p[2]&&K(p);return{c(){s=i("main"),a=i("div"),t=i("h1"),t.textContent=r,y=x(),u=i("div"),v=i("h2"),v.textContent=S,D=x(),n&&n.c(),N=x(),h=i("form"),_=i("div"),g=i("label"),g.textContent=z,q=x(),f=i("input"),B=x(),C=i("div"),E=i("label"),E.textContent=F,j=x(),c=i("input"),H=x(),w=i("button"),w.textContent=J,this.h()},l(d){s=o(d,"MAIN",{});var b=L(s);a=o(b,"DIV",{class:!0});var V=L(a);t=o(V,"H1",{"data-svelte-h":!0}),P(t)!=="svelte-1ruee2"&&(t.textContent=r),y=I(V),u=o(V,"DIV",{class:!0});var T=L(u);v=o(T,"H2",{"data-svelte-h":!0}),P(v)!=="svelte-bhb3ah"&&(v.textContent=S),D=I(T),n&&n.l(T),N=I(T),h=o(T,"FORM",{});var A=L(h);_=o(A,"DIV",{class:!0});var k=L(_);g=o(k,"LABEL",{for:!0,"data-svelte-h":!0}),P(g)!=="svelte-1wr0xay"&&(g.textContent=z),q=I(k),f=o(k,"INPUT",{type:!0,id:!0,placeholder:!0}),k.forEach(m),B=I(A),C=o(A,"DIV",{class:!0});var O=L(C);E=o(O,"LABEL",{for:!0,"data-svelte-h":!0}),P(E)!=="svelte-pepa0a"&&(E.textContent=F),j=I(O),c=o(O,"INPUT",{type:!0,id:!0,placeholder:!0}),O.forEach(m),H=I(A),w=o(A,"BUTTON",{type:!0,"data-svelte-h":!0}),P(w)!=="svelte-1yamoz0"&&(w.textContent=J),A.forEach(m),T.forEach(m),V.forEach(m),b.forEach(m),this.h()},h(){l(g,"for","username"),l(f,"type","text"),l(f,"id","username"),l(f,"placeholder","Enter your username"),f.required=!0,l(_,"class","form-group"),l(E,"for","password"),l(c,"type","password"),l(c,"id","password"),l(c,"placeholder","Enter your password"),c.required=!0,l(C,"class","form-group"),l(w,"type","submit"),l(u,"class","login-form"),l(a,"class","container")},m(d,b){Q(d,s,b),e(s,a),e(a,t),e(a,y),e(a,u),e(u,v),e(u,D),n&&n.m(u,null),e(u,N),e(u,h),e(h,_),e(_,g),e(_,q),e(_,f),U(f,p[0]),e(h,B),e(h,C),e(C,E),e(C,j),e(C,c),U(c,p[1]),e(h,H),e(h,w),M||(R=[W(f,"input",p[4]),W(c,"input",p[5]),W(h,"submit",ee(p[3]))],M=!0)},p(d,[b]){d[2]?n?n.p(d,b):(n=K(d),n.c(),n.m(u,N)):n&&(n.d(1),n=null),b&1&&f.value!==d[0]&&U(f,d[0]),b&2&&c.value!==d[1]&&U(c,d[1])},i:G,o:G,d(d){d&&m(s),n&&n.d(),M=!1,Y(R)}}}function le(p,s,a){let t="",r="",y="";async function u(){try{(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})})).ok?ne("/weather"):a(2,y="Invalid credentials")}catch{a(2,y="An error occurred")}}function v(){t=this.value,a(0,t)}function S(){r=this.value,a(1,r)}return[t,r,y,u,v,S]}class de extends Z{constructor(s){super(),$(this,s,le,re,X,{})}}export{de as component};
